

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>floodfill &mdash; Floodfill Algorithm  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home" alt="Documentation Home"> Floodfill Algorithm
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">floodfill</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#parallelization">Parallelization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-api">Python API</a><ul>
<li><a class="reference internal" href="#module-floodfill">User Interface</a></li>
<li><a class="reference internal" href="#module-floodfill.algorithms.nogueira_etal">Algorithms</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Floodfill Algorithm</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>floodfill</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="floodfill">
<h1>floodfill<a class="headerlink" href="#floodfill" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://travis-ci.com/tibroc/floodfill"><img alt="https://travis-ci.com/tibroc/floodfill.svg?branch=master" src="https://travis-ci.com/tibroc/floodfill.svg?branch=master" /></a>
<a class="reference external image-reference" href="https://coveralls.io/github/tibroc/floodfill?branch=master"><img alt="https://coveralls.io/repos/github/tibroc/floodfill/badge.svg?branch=master" src="https://coveralls.io/repos/github/tibroc/floodfill/badge.svg?branch=master" /></a>
<p>This is an implementation of the floodfill algorithm for fire event detection as described in:</p>
<blockquote>
<div><div class="line-block">
<div class="line">Archibald, Sally &amp; Roy, David. (2009).</div>
<div class="line">Identifying individual fires from satellite-derived burned area data.</div>
<div class="line">III-160 . 10.1109/IGARSS.2009.5417974.</div>
</div>
</div></blockquote>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>To install this python package you need to download the repository,
navigate to the root folder of it and install it using the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python setup.py install
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>The program can be executed as a python module:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m floodfill -h
</pre></div>
</div>
<p>The program provides some command line parameters that let you define its behavior.
The <code class="docutils literal notranslate"><span class="pre">-h</span></code> flag will give you an overview over the options and how to use it.</p>
<p>A simple test run can be done like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir output
python -m floodfill --input<span class="o">=</span>tests/test_data.tif --output-folder<span class="o">=</span>output -b
</pre></div>
</div>
<div class="section" id="parallelization">
<h3>Parallelization<a class="headerlink" href="#parallelization" title="Permalink to this headline">¶</a></h3>
<p>If you have several files to process (in recursive mode), you can parallelize
processing by setting <code class="docutils literal notranslate"><span class="pre">--n-workers</span></code> to a value that suits your number of cores
(if you specify a higher number of workers than you have cores, the program will
automatically take the maximum number of cores available).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir output
python -m floodfill --input<span class="o">=</span>tests/test_data.tif<span class="se">\</span>
    --output-folder<span class="o">=</span>output<span class="se">\</span>
    --n-workers<span class="o">=</span><span class="m">4</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
</div>
</div>
</div>
<div class="section" id="python-api">
<h2>Python API<a class="headerlink" href="#python-api" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-floodfill">
<span id="user-interface"></span><h3>User Interface<a class="headerlink" href="#module-floodfill" title="Permalink to this headline">¶</a></h3>
<p>User interface for the module</p>
<dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>2020, Timo Nogueira Brockmeyer</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>MIT</p>
</dd>
</dl>
<dl class="py function">
<dt id="floodfill.isolate_burned_pixels">
<code class="sig-prename descclassname">floodfill.</code><code class="sig-name descname">isolate_burned_pixels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">upper</span></em>, <em class="sig-param"><span class="n">lower</span></em><span class="sig-paren">)</span><a class="headerlink" href="#floodfill.isolate_burned_pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>This function sets alls entries of the given array
with values between ‘upper’ and ‘lower’ to zero.</p>
<p>Usually the burned pixels have specific values
(e.g. the julian day of the year) and other values may occur
in the dataset. This function helps to ‘clean’ the data so that
all values outside the bound of ‘upper’ and ‘lower’ are
set to zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>numpy.ndarray</em>) – the raster data</p></li>
<li><p><strong>upper</strong> (<em>int</em>) – the upper bound for the burned data values</p></li>
<li><p><strong>lower</strong> (<em>int</em>) – the lower bound for the burned data values</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the cleaned raster data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="floodfill.read_data">
<code class="sig-prename descclassname">floodfill.</code><code class="sig-name descname">read_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#floodfill.read_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the raster file and return a numpy array.</p>
<p>Only the first band of the raster file is read.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file</strong> (<em>str</em>) – file path</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tuple of length two, containing an array
of the raster data and the raster profile</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="floodfill.run_algo">
<code class="sig-prename descclassname">floodfill.</code><code class="sig-name descname">run_algo</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#floodfill.run_algo" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an algorithm-module and run its run()-function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – name of the module implementing the algorithm</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the return argument of therun function of the chosen algorithm
implementation</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="floodfill.write_data">
<code class="sig-prename descclassname">floodfill.</code><code class="sig-name descname">write_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">raster</span></em>, <em class="sig-param"><span class="n">profile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#floodfill.write_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the results to disc as a geotiff raster file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – the file name and location to be written to</p></li>
<li><p><strong>raster</strong> (<em>numpy.ndarray</em>) – the raster data</p></li>
<li><p><strong>profile</strong> (<em>rasterio.profiles.Profile</em>) – the profile from the rasterio.io.DatasetReader</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-floodfill.algorithms.nogueira_etal">
<span id="algorithms"></span><h3>Algorithms<a class="headerlink" href="#module-floodfill.algorithms.nogueira_etal" title="Permalink to this headline">¶</a></h3>
<p>Floodfill algorithm as used in Nogueira et al.</p>
<dl class="field-list simple">
<dt class="field-odd">copyright</dt>
<dd class="field-odd"><p>2020, Timo Nogueira Brockmeyer</p>
</dd>
<dt class="field-even">license</dt>
<dd class="field-even"><p>MIT</p>
</dd>
</dl>
<dl class="py function">
<dt id="floodfill.algorithms.nogueira_etal.run">
<code class="sig-prename descclassname">floodfill.algorithms.nogueira_etal.</code><code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">raster</span></em>, <em class="sig-param"><span class="n">cut_off</span></em><span class="sig-paren">)</span><a class="headerlink" href="#floodfill.algorithms.nogueira_etal.run" title="Permalink to this definition">¶</a></dt>
<dd><p>The floodfill agorithm as described in the paper
and implemented in Nogueira et al..</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>raster</strong> (<em>numpy.ndarray</em>) – the raster data</p></li>
<li><p><strong>cut_off</strong> (<em>int</em>) – the cut-off value in days –
this value is a temporal threshold of when to
consider two fires distinct events.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a tuple of length two, containing two numpy.ndarrays
with the same dimensions as the input ‘raster’.
The first item are the fire patches as connected components
where each event has a unique id.
The second item are the burn dates.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Timo Nogueira Brockmeyer

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>